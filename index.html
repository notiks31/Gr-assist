<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>🚌 대중교통 환승 도우미</title>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css">
    
    <link rel="stylesheet" href="style.css">
    
    <script src="config.js"></script>
    
    </head>
<body data-theme="light">
    <div class="app-frame">
        <div id="map"></div>

        <button id="mapOverlay" class="map-overlay" aria-label="지도 닫기"></button>

        <div class="floating-buttons">
            <button class="float-btn" id="currentLocationBtn" aria-label="현재 위치">
                <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
            </button>
            <button class="float-btn" id="themeToggleBtn" aria-label="테마 토글">
                <svg viewBox="0 0 24 24"><path d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"/></svg>
            </button>
        </div>

        <div id="bottomSheet" class="bottom-sheet initial-minimized">
            <div class="sheet-header" id="sheetHeader" onclick="toggleSheet()" aria-label="시트 토글">
                <div class="handle-bar">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 4L12 20M12 4L7 9M12 4L17 9" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>

            <div class="sheet-content-wrapper">
                
                <div class="search-bar" id="minimizedSearchBar">
                    <svg width="24" height="24" fill="var(--color-text-sub)"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
                    <span>출발지, 도착지를 입력하여 경로를 검색하세요.</span>
                </div>
                
                <div class="sheet-content" id="expandedSheetContent">
                    
                    <section id="home-screen" class="app-screen active">
                        <h2 class="section-title">출발/도착지 입력</h2>
                        <div class="input-form-group">
                            <div class="input-row">
                                <span class="dot start-dot"></span>
                                <input type="text" id="startInput" class="input-text" placeholder="출발지 입력" aria-label="출발지">
                            </div>
                            <div class="vertical-line"></div> 
                            <div class="input-row">
                                <span class="dot end-dot"></span>
                                <input type="text" id="endInput" class="input-text" placeholder="도착지 입력" aria-label="도착지">
                            </div>
                            <button class="btn-swap" aria-label="출발/도착지 바꾸기">
                                <svg viewBox="0 0 24 24"><path d="M6 16.5l4-4 4 4M18 7.5l-4 4-4-4"/></svg>
                            </button>
                        </div>
                        
                        <div class="action-group">
                            <button class="btn-quick access-recent">최근 경로</button>
                            <button class="btn-quick access-favorite">즐겨찾기</button>
                        </div>
                        
                        <button class="btn-primary" id="searchRouteBtn">경로 찾기</button>
                    </section>
                    
                    <section id="route-results-screen" class="app-screen">
                        <div class="screen-header">
                            <button id="backToHomeBtn1" class="btn-icon back-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5"/><path d="m12 19-7-7 7-7"/></svg>
                            </button>
                            <h2 class="section-title">경로 조회 결과</h2>
                        </div>
                        <div id="route-summary-list">
                            </div>
                        <button id="startTripBtn" class="btn-primary">이 경로로 이동</button>
                    </section>
                    
                    <section id="trip-in-progress-screen" class="app-screen">
                        <div class="screen-header">
                            <button id="backToHomeBtn2" class="btn-icon back-btn">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5"/><path d="m12 19-7-7 7-7"/></svg>
                            </button>
                            <h2 class="section-title">실시간 이동 안내</h2>
                        </div>
                        <div id="current-stage-info">
                            </div>
                        <div id="dynamic-actions">
                             </div>
                        <button id="endTripBtn" class="btn-primary">이동 종료</button>
                    </section>
                    
                    <section id="trip-complete-screen" class="app-screen">
                        <h2 class="section-title">🎉 이동 종료</h2>
                        <div id="completion-summary">
                            </div>
                        <button id="returnToHomeBtn" class="btn-primary">홈으로 돌아가기</button>
                    </section>
                    
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
